<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/styles.css">
    <title>Double Parking Notification System</title>
</head>

<body>
    <!-- Header -->
    <div class="CI-header">
        <ion-icon name="information-circle-outline" style="font-size: 64px"></ion-icon>
        <ion-icon name="car-sport" style="font-size: 64px"></ion-icon>
    </div>
    <br>

    <!-- Display Information -->
    <div class="box">
        <p>
            <label>Vehicle Plate</label><br>
            <span class="info" id="plate"></span>
        </p><br>
        <p>
            <label>Vehicle Make</label><br>
            <span class="info" id="make"></span>
        </p><br>

        <p>
            <label>Phone Number</label><br>
            <span class="info" id="contactNum"></span>
        </p><br>

        <p>
            <label>Time Parked</label><br>
            <span class="info" id="time"></span>
        </p><br>

        <p>
            <label>Location</label><br>
            <span class="info" id="loc"></span>
        </p><br>

        <p>
            <label>Owner's Name</label><br>
            <span class="info" id="name"></span>
        </p>
    </div>

    <!-- Button -->
    <div style="text-align: center;">
        <button type="button" class="submit_btn" onclick="copyToClipboard()">
            <ion-icon name="call-outline"></ion-icon>
        </button>

        <button type="button" class="submit_btn" onclick="returnToHome()">
            <ion-icon name="home-outline"></ion-icon>
        </button>
    </div>

    <!-- Footer -->
    <div class="footer">
        Copyright © 2021 Dumpling Grads • Made with sweat and tears
    </div>

    <!-- Function -->
    <script>
        // here will be run before the page is rendered
        document.getElementById("plate").innerText = sessionStorage.getItem("plateNo");
        document.getElementById("contactNum").innerText = sessionStorage.getItem("phone");
        document.getElementById("name").innerText = sessionStorage.getItem("name");
        document.getElementById("loc").innerText = sessionStorage.getItem("loc");
        document.getElementById("time").innerText = sessionStorage.getItem("time");
        document.getElementById("make").innerText = sessionStorage.getItem("colour")+ " " +sessionStorage.getItem("brand");

        // get values from firebase based on vehicle plate and update
        function copyToClipboard() {
            var copyText = document.getElementById("contactNum");
            var tempTextArea = document.createElement("textarea");
            tempTextArea.value = copyText.textContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            /* Select the text field */
            tempTextArea.setSelectionRange(0, 99999); /* For mobile devices */
            /* Copy the text*/
            document.execCommand("copy");
            tempTextArea.remove();
        }

        // user click button to return back to home
        function returnToHome() {
            window.location.href = "index.html"
        }

    </script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
</body>

</html>
